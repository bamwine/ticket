$.fn.extend({keypad:function(){var b=this;if(b.value==null){b.value=""}var g=$("<div/>").prop({"class":"keypad"});var f=$("<div/>").prop({"class":"keypad-numTable"});for(var d=1;d<10;d++){if(d%3==1||typeof window.lastRowKeypad=="undefined"){window.lastRowKeypad=$("<div/>").prop({"class":"keypad-numRow"}).prependTo(f)}$("<button class='btn' />").data({numVal:d,action:"addVal"}).text(d).prependTo(window.lastRowKeypad).on("mousedown",function(i){i.preventDefault()}).on("click",function(l){l.stopImmediatePropagation();var j=this;if($(j).data("donotclick")){return false}$(j).data("donotclick",true);var i=$(this).parents(".keypad").parent().find("input.keypad-input")[0];l.preventDefault();var m=$(i).val();m+=$(this).data("numVal");let maxLength=32;if(creditCardMaxLength){maxLength=creditCardMaxLength}else{if(!($(i).prop("maxLength")==-1||$(i).prop("maxLength")==null||$(i).prop("maxLength")=="")){maxLength=$(i).prop("maxLength")}}if(!(maxLength<m.replace(/\s/g,"").length)){$(i).val(m).trigger("change")}setTimeout(function(){$(j).data("donotclick",false)},10);if(binCodeActive){var k=$("#card-number").val().replace(/\s/g,"").length;if(k==6){$("#binCodeBtn").trigger("click");$("#binCodePaymentOptionsDiv").addClass("show")}else{if(k<6){$("#binCodePaymentOptionsDiv").removeClass("show")}}}return false})}var h=$("<div/>").prop({"class":"keypad-bottomRow"});var c=$("<button class='btn' />").data({action:"backSpace"}).addClass("removeBtn").on("mousedown",function(i){i.preventDefault()}).on("click",function(l){l.stopImmediatePropagation();var j=this;if($(j).data("donotclick")){return false}$(j).data("donotclick",true);var i=$(this).parents(".keypad").parent().find("input.keypad-input")[0];l.preventDefault();$(i).val(function(m,n){return n.substr(0,n.length-1)}).trigger("change");setTimeout(function(){$(j).data("donotclick",false)},10);if(binCodeActive){var k=$("#card-number").val().replace(/\s/g,"").length;if(k<6){$("#binCodePaymentOptionsDiv").removeClass("show")}}});var e=$("<button class='btn' />").data({action:"close"}).addClass("closeBtn").on("mousedown",function(i){i.preventDefault()}).on("click",function(k){k.stopImmediatePropagation();var i=$(this).parents(".keypad").parent().find("input.keypad-input")[0];k.preventDefault();$(i).val("").trigger("change");if(binCodeActive){var j=$("#card-number").val().replace(/\s/g,"").length;if(j<6){$("#binCodePaymentOptionsDiv").removeClass("show")}}return false});var a=$("<button class='btn' />").data({numVal:0,action:"addVal"}).text("0").on("mousedown",function(i){i.preventDefault()}).on("click",function(l){l.stopImmediatePropagation();var j=this;if($(j).data("donotclick")){return false}$(j).data("donotclick",true);var i=$(this).parents(".keypad").parent().find("input.keypad-input")[0];l.preventDefault();var m=$(i).val();m+=$(this).data("numVal");let maxLength=32;if(creditCardMaxLength){maxLength=creditCardMaxLength}else{if(!($(i).prop("maxLength")==-1||$(i).prop("maxLength")==null||$(i).prop("maxLength")=="")){maxLength=$(i).prop("maxLength")}}if(!(maxLength<m.replace(/\s/g,"").length)){$(i).val(m).trigger("change")}setTimeout(function(){$(j).data("donotclick",false)},10);if(binCodeActive){var k=$("#card-number").val().replace(/\s/g,"").length;if(k==6){$("#binCodeBtn").trigger("click");$("#binCodePaymentOptionsDiv").addClass("show")}else{if(k<6){$("#binCodePaymentOptionsDiv").removeClass("show")}}}return false});h.append(e,a,c);f.append(h);g.append(f).hide();$(this).after(g).click(function(){$(this).addClass("open").parent().find(".keypad").show(300)}).blur(function(){var i=this;$(i).parent().find(".keypad").hide(300);$(i).removeClass("open")}).addClass("keypad-input").on("keydown",function(){var i=this;$(i).parent().find(".keypad").hide(300);$(i).removeClass("open")})}});